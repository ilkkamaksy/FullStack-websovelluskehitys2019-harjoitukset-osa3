{"version":3,"sources":["services/contacts.js","Components/FormFields/InputField.js","Components/AddContactsForm.js","Components/SearchForm.js","Components/PhoneNumbers.js","Components/Notice.js","App.js","index.js"],"names":["baseURL","contacts","axios","get","newObject","post","id","put","concat","delete","InputField","_ref","label","value","onChangeHandler","react_default","a","createElement","onChange","AddContactsForm","addPerson","newName","addNewName","newNumber","addNewNumber","onSubmit","FormFields_InputField","type","SearchForm","PhoneNumbers","persons","removePerson","map","person","key","name","number","onClick","Notice","notice","message","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","searchValue","setSearchValue","_useState9","_useState10","noticeMsg","setNoticeMsg","setNotice","setTimeout","useEffect","contactService","then","response","status","data","catch","error","personsToRender","length","filter","toLowerCase","indexOf","trim","Components_Notice","Components_SearchForm","e","target","Components_AddContactsForm","preventDefault","newPerson","window","confirm","personToUpdate","newPersons","Components_PhoneNumbers","personToDelete","ReactDOM","render","src_App","document","getElementById"],"mappings":"qNACMA,EAAU,eAkBDC,EAhBA,WACX,OAAOC,IAAMC,IAAIH,IAeNC,EAZA,SAAAG,GACX,OAAOF,IAAMG,KAAKL,EAASI,IAWhBH,EARA,SAACK,EAAIF,GAChB,OAAOF,IAAMK,IAAN,GAAAC,OAAaR,EAAb,KAAAQ,OAAwBF,GAAMF,IAO1BH,EAJA,SAACK,GACZ,OAAOJ,IAAMO,OAAN,GAAAD,OAAgBR,EAAhB,KAAAQ,OAA2BF,KCVvBI,EAJI,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,MAAOC,EAATF,EAASE,MAAOC,EAAhBH,EAAgBG,gBAAhB,OACfC,EAAAC,EAAAC,cAAA,WAAML,EAAN,KAAcG,EAAAC,EAAAC,cAAA,SAAOJ,MAAOA,EAAOK,SAAUJ,MCclCK,EAdS,SAAAR,GAA+D,IAA7DS,EAA6DT,EAA7DS,UAAWC,EAAkDV,EAAlDU,QAASC,EAAyCX,EAAzCW,WAAYC,EAA6BZ,EAA7BY,UAAWC,EAAkBb,EAAlBa,aAEjE,OACET,EAAAC,EAAAC,cAAA,QAAMQ,SAAUL,GACdL,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAACS,EAAD,CAAYd,MAAM,OAAOC,MAAOQ,EAASP,gBAAiBQ,IAC1DP,EAAAC,EAAAC,cAACS,EAAD,CAAYd,MAAM,SAASC,MAAOU,EAAWT,gBAAiBU,IAC9DT,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQU,KAAK,UAAb,UCAKC,EARI,SAAAjB,GAA8B,IAA5BE,EAA4BF,EAA5BE,MAAOC,EAAqBH,EAArBG,gBACxB,OACIC,EAAAC,EAAAC,cAAA,YACIF,EAAAC,EAAAC,cAACS,EAAD,CAAYd,MAAM,iBAAiBC,MAAOA,EAAOC,gBAAiBA,MCU/De,EAdM,SAAAlB,GAAA,IAAEmB,EAAFnB,EAAEmB,QAASC,EAAXpB,EAAWoB,aAAX,OACjBhB,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,qBACCa,EAAQE,IAAI,SAAAC,GACT,OACIlB,EAAAC,EAAAC,cAAA,OAAKiB,IAAKD,EAAO3B,IACbS,EAAAC,EAAAC,cAAA,YAAOgB,EAAOE,KAAd,IAAqBF,EAAOG,OAA5B,KACArB,EAAAC,EAAAC,cAAA,UAAQoB,QAAU,kBAAMN,EAAaE,KAArC,eCMLK,EAbA,SAAA3B,GAAc,IAAZ4B,EAAY5B,EAAZ4B,OAEb,MAA+B,qBAAnBA,EAAOC,QACR,KAIPzB,EAAAC,EAAAC,cAAA,OAAKwB,UAAS,iBAAAjC,OAAmB+B,EAAOZ,OACnCY,EAAOC,UCqJLE,EAxJH,WAAM,IAAAC,EAEeC,mBAAS,IAFxBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAERb,EAFQe,EAAA,GAECG,EAFDH,EAAA,GAAAI,EAGgBL,mBAAS,IAHzBM,EAAAJ,OAAAC,EAAA,EAAAD,CAAAG,EAAA,GAGR5B,EAHQ6B,EAAA,GAGCC,EAHDD,EAAA,GAAAE,EAIoBR,mBAAS,IAJ7BS,EAAAP,OAAAC,EAAA,EAAAD,CAAAM,EAAA,GAIR7B,EAJQ8B,EAAA,GAIGC,EAJHD,EAAA,GAAAE,EAKwBX,mBAAS,IALjCY,EAAAV,OAAAC,EAAA,EAAAD,CAAAS,EAAA,GAKRE,EALQD,EAAA,GAKKE,EALLF,EAAA,GAAAG,EAMoBf,mBAAS,IAN7BgB,EAAAd,OAAAC,EAAA,EAAAD,CAAAa,EAAA,GAMRE,EANQD,EAAA,GAMGE,EANHF,EAAA,GAQVG,EAAY,SAACF,EAAWlC,GAC5BmC,EAAa,CACXtB,QAASqB,EACTlC,KAAMA,IAERqC,WAAW,WACTF,EAAa,KACZ,MAkBLG,oBAdmB,WACjBC,IAECC,KAAK,SAAAC,GACoB,MAApBA,EAASC,QACXrB,EAAWoB,EAASE,QAGvBC,MAAM,SAAAC,GACLT,EAAUS,EAAO,YAKC,IAGtB,IAqFMC,EAAyC,IAAvBhB,EAAYiB,OAAe5C,EAAUA,EAAQ6C,OAAO,SAAA1C,GAC1E,OAA8E,IAAzEA,EAAOE,KAAKyC,cAAcC,QAAQpB,EAAYmB,cAAcE,QACtD7C,EAEJ,OAGT,OACElB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBAEAF,EAAAC,EAAAC,cAAC8D,EAAD,CAAQxC,OAAQsB,IAEhB9C,EAAAC,EAAAC,cAAC+D,EAAD,CAAYnE,MAAO4C,EAAa3C,gBAhBb,SAACmE,GAAD,OAAOvB,EAAeuB,EAAEC,OAAOrE,UAkBlDE,EAAAC,EAAAC,cAACkE,EAAD,CACM/D,UArGQ,SAAC6D,GACjBA,EAAEG,iBAEF,IAAMC,EAAY,CAChBlD,KAAMd,EACNe,OAAQb,GAOV,GAA2B,IAHRO,EAAQ6C,OAAO,SAAA1C,GAAM,OAAIA,EAAOE,OAASd,IAG5CqD,OACdR,EACQmB,GACPlB,KAAK,SAAAC,GACsB,MAApBA,EAASC,SACXrB,EAAWlB,EAAQtB,OAAO4D,EAASE,OACnCP,EAAS,SAAAvD,OAAU6E,EAAUlD,MAAQ,cAG1CoC,MAAM,SAAAC,GAELT,EAAS,wDAAAvD,OAAyDgE,GAAS,WAI7ElB,EAAa,IACbH,EAAW,SAIX,GAAKmC,OAAOC,QAAP,GAAA/E,OAAkBa,EAAlB,8EAAwG,CAE3G,IAAMmE,EAAiB1D,EAAQ6C,OAAO,SAAA1C,GAAM,OAAIA,EAAOE,OAASd,IAChE6C,EACQsB,EAAe,GAAGlF,GAAI+E,GAC7BlB,KAAK,SAAAC,GACJ,GAAyB,MAApBA,EAASC,OAAgB,CAC5B,IAAMoB,EAAa3D,EAAQE,IAAI,SAAAC,GAC7B,OAAKA,EAAO3B,KAAO8D,EAASE,KAAKhE,GACxB8D,EAASE,KAEXrC,IAETe,EAAWyC,GACX1B,EAAS,WAAAvD,OAAY6E,EAAUlD,MAAQ,cAG1CoC,MAAM,SAAAC,GAELT,EAAS,wDAAAvD,OAAyDgE,GAAS,WAI7ElB,EAAa,IACbH,EAAW,MA8CP9B,QAASA,EACTC,WAvBS,SAAC2D,GAAD,OAAO9B,EAAW8B,EAAEC,OAAOrE,QAwBpCU,UAAWA,EACXC,aAxBW,SAACyD,GAAD,OAAO3B,EAAa2B,EAAEC,OAAOrE,UA2B5CiB,EAAQ4C,OAAS,GAAK3D,EAAAC,EAAAC,cAACyE,EAAD,CAAc5D,QAAS2C,EAAiB1C,aA9C/C,SAAC4D,GACfL,OAAOC,QAAP,UAAA/E,OAAyBmF,EAAexD,KAAxC,OACH+B,EAAsByB,EAAerF,IACpC6D,KAAK,SAAAC,GAEqB,MAApBA,EAASC,SACZrB,EAAWlB,EAAQ6C,OAAO,SAAA1C,GAAM,OAAIA,EAAO3B,KAAOqF,EAAerF,MACjEyD,EAAS,GAAAvD,OAAImF,EAAexD,KAAnB,qBAA4C,cAGxDoC,MAAM,SAAAC,GAELT,EAAS,uDAAAvD,OAAwDgE,GAAS,sBChHlFoB,IAASC,OAAO9E,EAAAC,EAAAC,cAAC6E,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.6c266178.chunk.js","sourcesContent":["import axios from 'axios';\r\nconst baseURL = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseURL);\r\n} \r\n\r\nconst create = newObject => {\r\n    return axios.post(baseURL, newObject);\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseURL}/${id}`, newObject);\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseURL}/${id}`);\r\n}\r\n\r\nexport default {\r\n    getAll: getAll,\r\n    create: create,\r\n    update: update,\r\n    delete: remove\r\n}\r\n","import React from 'react';\r\n\r\nconst InputField = ({label, value, onChangeHandler}) => (\r\n    <div>{label}: <input value={value} onChange={onChangeHandler} /></div>\r\n);\r\n\r\nexport default InputField;","import React from 'react';\r\nimport InputField from './FormFields/InputField';\r\n\r\nconst AddContactsForm = ({addPerson, newName, addNewName, newNumber, addNewNumber}) => {\r\n\r\n    return (\r\n      <form onSubmit={addPerson}>\r\n        <h2>Add new contact</h2>\r\n        <InputField label=\"name\" value={newName} onChangeHandler={addNewName} />\r\n        <InputField label=\"number\" value={newNumber} onChangeHandler={addNewNumber} />\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    );\r\n}\r\n\r\nexport default AddContactsForm;","import React from 'react';\r\nimport InputField from './FormFields/InputField';\r\n\r\nconst SearchForm = ({value, onChangeHandler}) => {\r\n    return (\r\n        <form>\r\n            <InputField label=\"filter results\" value={value} onChangeHandler={onChangeHandler} />\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default SearchForm;","import React from 'react';\r\n\r\nconst PhoneNumbers = ({persons, removePerson}) => (\r\n    <div>\r\n        <h2>Numbers</h2>\r\n        {persons.map(person => {\r\n            return (\r\n                <div key={person.id}>\r\n                    <span>{person.name} {person.number} </span>  \r\n                    <button onClick={ () => removePerson(person)}>delete</button>\r\n                </div>\r\n            );\r\n        })}\r\n    </div>\r\n);\r\n\r\nexport default PhoneNumbers;","import React from 'react';\r\n\r\nconst Notice = ({notice}) => {\r\n\r\n    if ( typeof notice.message === 'undefined' ) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <div className={`notice notice-${notice.type}`}>\r\n            {notice.message}\r\n        </div>\r\n    );\r\n} \r\n\r\nexport default Notice;","import React, { useState, useEffect } from 'react'\nimport contactService from './services/contacts';\nimport AddContactsForm from './Components/AddContactsForm';\nimport SearchForm from './Components/SearchForm';\nimport PhoneNumbers from './Components/PhoneNumbers';\nimport Notice from './Components/Notice';\n\nconst App = () => {\n  \n  const [ persons, setPersons] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ searchValue, setSearchValue ] = useState('');\n  const [ noticeMsg, setNoticeMsg ] = useState({});\n\n  const setNotice = (noticeMsg, type) => {\n    setNoticeMsg({\n      message: noticeMsg, \n      type: type\n    });\n    setTimeout(() => {\n      setNoticeMsg({});\n    }, 5000);\n  } \n\n  // Hook for fetching data\n  const getPersons = () => {\n    contactService\n    .getAll()\n    .then(response =>{\n      if (response.status === 200) {\n        setPersons(response.data)\n      }\n    })\n    .catch(error => {\n      setNotice(error, \"error\")\n    })\n  }\n\n  // Fetch data\n  useEffect(getPersons, []);\n\n  // Add new person handler\n  const addPerson = (e) => {\n    e.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    // Check if the name exists in phonebook\n    const nameExists = persons.filter(person => person.name === newName);\n    \n    // Add name to phonebook if it doesn't exist\n    if ( nameExists.length === 0 ) {\n      contactService\n      .create(newPerson)\n      .then(response => {\n          if (response.status === 200) {\n            setPersons(persons.concat(response.data));\n            setNotice(`Added ${newPerson.name}`, \"success\")\n          }\n      })\n      .catch(error => {\n        \n        setNotice(`We've encountered an error while updating phonebook: ${error}`, \"error\")\n\n      });\n\n      setNewNumber('');\n      setNewName('');\n   \n    } else {\n      \n      if ( window.confirm(`${newName} is already in the phonebook, replace the old number with the new number?`) ) {\n        \n        const personToUpdate = persons.filter(person => person.name === newName);\n        contactService\n        .update(personToUpdate[0].id, newPerson)\n        .then(response => {\n          if ( response.status === 200) {\n            const newPersons = persons.map(person => {\n              if ( person.id === response.data.id ) {\n                return response.data;\n              } \n              return person;\n            });\n            setPersons(newPersons);\n            setNotice(`Updated ${newPerson.name}`, \"success\")\n          }\n        })\n        .catch(error => {\n\n          setNotice(`We've encountered an error while updating phonebook: ${error}`, \"error\");\n          \n        })\n\n        setNewNumber('');\n        setNewName('');\n      }\n    }\n  }\n\n  // Delete contact from phonebook\n  const removePerson = (personToDelete) => {\n    if ( window.confirm(`Delete ${personToDelete.name}?`) ) {\n      contactService.delete(personToDelete.id)\n      .then(response => {\n        \n        if ( response.status === 204) {\n          setPersons(persons.filter(person => person.id !== personToDelete.id));\n          setNotice(`${personToDelete.name} has been deleted`, \"success\")\n        }\n      })\n      .catch(error => {\n\n        setNotice(`We've encountered an error while removing contacts: ${error}`, \"error\")\n        \n      })\n    }\n  }\n\n  const addNewName = (e) => setNewName(e.target.value);\n  const addNewNumber = (e) => setNewNumber(e.target.value);\n  const addSearchValue = (e) => setSearchValue(e.target.value);\n\n  // Filter list to render by search term\n  const personsToRender = searchValue.length === 0 ? persons : persons.filter(person => {\n    if ( person.name.toLowerCase().indexOf(searchValue.toLowerCase().trim()) !== -1 ) {\n        return person;\n    }\n    return null\n  });\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      \n      <Notice notice={noticeMsg} /> \n\n      <SearchForm value={searchValue} onChangeHandler={addSearchValue} />\n      \n      <AddContactsForm \n            addPerson={addPerson} \n            newName={newName} \n            addNewName={addNewName} \n            newNumber={newNumber} \n            addNewNumber={addNewNumber} \n      />\n\n      { persons.length > 0 && <PhoneNumbers persons={personsToRender} removePerson={removePerson} />}\n\n\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './main.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}